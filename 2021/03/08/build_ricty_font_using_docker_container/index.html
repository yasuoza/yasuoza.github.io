<!doctype html><html><head><meta charset=utf-8><base href=https://yasuoza.github.io><title>Dockerコンテナを利用したRictyフォントのビルド</title><link rel=canonical href=https://yasuoza.github.io/2021/03/08/build_ricty_font_using_docker_container/><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=alternate type=application/rss+xml href=https://yasuoza.github.ioindex.xml title="Back of the flyer"><link rel=icon type=image/x-icon href=/favicon.ico><link rel=stylesheet href=/css/singular.min.83d5afdfc4c6b7e5c362637c8146a08c70f7b69d8e2c72f17c0b7b4d9a500fe7.css integrity="sha256-g9Wv38TGt+XDYmN8gUagjHD3tp2OLHLxfAt7TZpQD+c=" crossorigin=anonymous media=screen><link href="https://fonts.googleapis.com/css?family=Open+Sans%3A400%2C400i%2C700%2C700i%2C800%2C800i&subset=latin%2Clatin-ext" rel=stylesheet><link rel=stylesheet href=/css/custom.css media=screen><link rel=stylesheet href=/css/amazon.min.d5af53f3a8ee79e459a775825b59f0dcfbc64cc63c5b69dc71ef303a15d6c8fc.css integrity="sha256-1a9T86jueeRZp3WCW1nw3PvGTMY8W2ncce8wOhXWyPw=" crossorigin=anonymous media=screen></head><body><header id=masthead class=site-header><div class="site-header__branding site-branding"><div class="site-branding__logo site-logo site-logo--rounded"><a class=custom-logo-link rel=home itemprop=url href><img width=96 height=96 src=/images/icon.jpg></a></div><div class=site-branding__copy><h1 class=site-title><a href=/ rel=home>Back of the flyer</a></h1><p class=site-description>Daily life and memos</p></div></div></header><div class="site-main content"><article><header class=entry-header><h1 class=entry-title>Dockerコンテナを利用したRictyフォントのビルド</h1></header><div class="entry-meta entry-meta-before-content"><span class="entry-meta-item posted-on"><a href=https://yasuoza.github.io/2021/03/08/build_ricty_font_using_docker_container/><time class="entry-date published" datetime=2021-03-08T12:23:50+0000>March 8, 2021</time></a></span></div><div class=entry-content><p><a href=https://rictyfonts.github.io>プログラミング用フォント Ricty</a>をビルドするときにDockerを利用するメモ。<br>Homebrewのformulaを利用する方法は便利なんだけど、ビルドをするためだけに必要なライブラリが多い。そして、そのライブラリはビルドしたあとで不要になるので、いっそのことDockerを利用してビルドした環境を捨てられるようにする。</p><p>方針としてはホスト側のディレクトリをdockerコンテナにマウントして、dockerコンテナで生成したフォントをその共有ディレクトリに移動して取り出すというもの。<br>コンテナのイメージは <a href=https://hub.docker.com/r/homebrew/brew>https://hub.docker.com/r/homebrew/brew</a> を利用する。</p><p>ホスト側の処理。</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ mkdir -p fonts
$ docker run --rm -it -v <span style=color:teal>$PWD</span>/fonts:/share/font homebrew/brew bash
</code></pre></div><p>コンテナ内の処理。</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ brew tap sanemat/font
$ brew install --with-powerline ricty
$ cp -f /home/linuxbrew/.linuxbrew/opt/ricty/share/fonts/Ricty*.ttf /share/fonts/
</code></pre></div><p>これでホスト側のfontsディレクトリからビルドしたRictyフォントを入手できるのでそれらをインストールする。<br>ホスト側でインストールした後はコンテナから<code>exit</code>すればOK。</p></div><nav class="navigation post-navigation" role=navigation aria-label="Posts navigation"><h2 class=screen-reader-text>Posts navigation</h2><div class=nav-links><div class=nav-nxt><span>Newer Post</span>
<a href=https://yasuoza.github.io/2021/07/05/homebridge-open-sesame/ rel=next>homebridge-open-sesame</a></div><div class=nav-pre><span>Older Post</span>
<a href=https://yasuoza.github.io/2020/10/19/blogging-with-textlint/ rel=prev>Blogging with textlint</a></div></div></nav></article></div><footer id=colophon class=site-footer role=contentinfo><div class="site-footer__copy site-copy"></div></footer></body></html>